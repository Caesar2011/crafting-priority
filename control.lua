local a={}local b=require("utils.iterators")local c=b.demoteIterator;local d=b.promoteIterator;local e=b.sameOrderIterator;local f=require("utils.reschedule-crafting")local g=f.rescheduleCrafting;local h=require("utils.helper")local i=h.debounce;local j=h.onTickUpdateDebounce;local k=require("utils.validate-player")local l=k.validatePlayer;script.on_event("promote-craft",function(m)local n=game.players[m.player_index]if not l(n)then return end;g(n,d)end)script.on_event("demote-craft",function(m)local n=game.players[m.player_index]if not l(n)then return end;g(n,c)end)script.on_event("reset-craft",function(m)local n=game.players[m.player_index]if not l(n)then return end;g(n,e)end)local o=i("on-inv-changed",30,function(p)local m;m=p[1]local n=game.players[m.player_index]if not l(n)then return end;if n.is_shortcut_toggled("auto-reset-craft")then g(n,e)end end)script.on_event(defines.events.on_player_main_inventory_changed,function(m)return o({m})end)script.on_nth_tick(30,function(m)j(m.tick)end)return a
