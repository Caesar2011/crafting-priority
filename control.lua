local a={}local b;local c=require("utils.iterators")local d=c.demoteIterator;local e=c.promoteIterator;local f=c.sameOrderIterator;local g=require("utils.reschedule-crafting")local h=g.rescheduleCrafting;local i=require("utils.validate-player")local j=i.validatePlayer;local k=require("utils.helper")local l=k.debounce;local m=k.onTickUpdateDebounce;function b(n)local o=game.players[n]if not j(o)then return end;o.set_shortcut_toggled("auto-reset-craft",not o.is_shortcut_toggled("auto-reset-craft"))end;script.on_event("promote-craft",function(p)local o=game.players[p.player_index]if not j(o)then return end;h(o,e)end)script.on_event("demote-craft",function(p)local o=game.players[p.player_index]if not j(o)then return end;h(o,d)end)script.on_event("reset-craft",function(p)local o=game.players[p.player_index]if not j(o)then return end;h(o,f)end)script.on_event(defines.events.on_lua_shortcut,function(p)if p.prototype_name=="auto-reset-craft"then b(p.player_index)end end)script.on_event("auto-reset-craft",function(p)b(p.player_index)end)local q=l("finished-crafting",3,function(o)h(o,f)end)script.on_event(defines.events.on_player_crafted_item,function(p)local o=game.players[p.player_index]if not j(o)or not o.is_shortcut_toggled("auto-reset-craft")then return end;q(o)end)script.on_nth_tick(1,function(p)m(p.tick)end)return a
